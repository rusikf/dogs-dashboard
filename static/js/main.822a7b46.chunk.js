(this.webpackJsonpdoggo_search=this.webpackJsonpdoggo_search||[]).push([[0],{123:function(e,t,n){},148:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(23),s=n.n(a),i=(n(123),n(75)),u=n(74),o=n(41),l={allBreeds:[],searchedBreeds:[],breedsTree:{},filteredBreed:"all"},d=function(e){var t=e.state,n=e.action,r=e.key;return Object(o.a)(Object(o.a)({},t),{},Object(u.a)({},r,n.payload))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_BREEDS_TREE":return d({state:e,action:t,key:"breedsTree"});case"UPDATE_ALL_BREEDS":return d({state:e,action:t,key:"allBreeds"});case"UPDATE_SEARCHED_BREEDS":return d({state:e,action:t,key:"searchedBreeds"});case"UPDATE_FILTERED_BREED":return d({state:e,action:t,key:"filteredBreed"});default:return e}},b={allDogs:[],dogs:[],page:1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ALL_DOGS":return Object(o.a)(Object(o.a)({},e),{},{allDogs:t.payload});case"UPDATE_DOGS":return Object(o.a)(Object(o.a)({},e),{},{dogs:t.payload});case"UPDATE_PAGE":return Object(o.a)(Object(o.a)({},e),{},{page:t.payload});default:return e}},f=Object(i.a)({breed:j,dogs:p}),h=n(25),O=n(153),E=n(12);function x(){return Object(E.jsx)(O.a,{className:"site-page-header",onBack:function(){return null},title:"Doggo Search",backIcon:!1})}var y=n(113),v=n(154),g=n(151),D=v.a.Title,m=g.a.Sider;function _(){var e=Object(h.c)((function(e){return e.breed.searchedBreeds})),t=Object(h.c)((function(e){return e.breed.allBreeds})).filter((function(t){return e.includes(t)})),n=Object(h.c)((function(e){return e.breed.breedsTree})),r=Object(h.c)((function(e){return e.dogs.allDogs})),c=Object(h.b)(),a=Object(h.c)((function(e){return e.breed.filteredBreed}));if(0===e.length)return null;var s=function(e){var a,s;if(a=e,"all"===e)s=r;else{var i=(Object.entries(n).find((function(n){var r=Object(y.a)(n,2),c=r[0],a=r[1];return t.includes(c)&&a.includes(e)}))||[])[0];s=r.filter((function(t){var n=t.breed===e,r=t.breed===i;return!(!n&&!r)}))}c({type:"UPDATE_FILTERED_BREED",payload:a}),c({type:"UPDATE_DOGS",payload:s})},i=function(e){return e===a?"bold-text":""},u=["all"].concat(t).map((function(e){return function(e){return n[e]&&n[e].length>0}(e)?Object(E.jsxs)("li",{children:[Object(E.jsx)("a",{className:i(e),href:"/#",onClick:function(){return s(e)},children:e}),Object(E.jsx)("ul",{children:n[e].map((function(e){return Object(E.jsx)("li",{children:Object(E.jsx)("a",{href:"/#",className:i(e),onClick:function(){return s(e)},children:e})},e)}))})]},e):Object(E.jsx)("li",{children:Object(E.jsx)("a",{href:"/#",className:i(e),onClick:function(){return s(e)},children:e})},e)}));return Object(E.jsxs)(m,{width:200,className:"site-layout-background",style:{backgroundColor:"white"},children:[Object(E.jsx)(D,{level:5,style:{display:"flex",justifyContent:"center"},children:"Filters"}),Object(E.jsx)("ul",{children:u})]})}var T=n(32),A=n.n(T),w=n(50),S=n(155),k=n(156),P=n(157),B=n(91),U=function(e){return e[Math.floor(Math.random()*e.length)]},R=n(93),N=n.n(R),C="https://dog.ceo/api",L=function(){var e=Object(w.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.get("".concat(C,"/breed/").concat(t,"/images")).then((function(e){return e.data.message})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.a.get("".concat(C,"/breeds/list/all")).then((function(e){return e.data.message})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=S.a.Option;function M(){var e=Object(h.c)((function(e){return e.breed.allBreeds})),t=Object(h.c)((function(e){return e.breed.searchedBreeds})),n=Object(h.b)();Object(r.useEffect)((function(){function e(){return(e=Object(w.a)(A.a.mark((function e(){var t,r,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,r=Object.keys(t),n({type:"UPDATE_ALL_BREEDS",payload:r}),n({type:"UPDATE_BREEDS_TREE",payload:t}),c=U(r),a([c]),n({type:"UPDATE_SEARCHED_BREEDS",payload:[]});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var c=function(){var e=Object(w.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.reduce(function(){var e=Object(w.a)(A.a.mark((function e(t,r){var c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return e.next=4,L(r);case 4:c=e.sent,a=c.map((function(e){return{url:e,breed:r}})),n=n.concat(a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Promise.resolve());case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=function(){var e=Object(w.a)(A.a.mark((function e(t){var r,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"UPDATE_SEARCHED_BREEDS",payload:t}),e.next=3,c(t);case 3:r=e.sent,a=r.sort((function(){return.5-Math.random()})),n({type:"UPDATE_ALL_DOGS",payload:a}),n({type:"UPDATE_DOGS",payload:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=[];return e.forEach((function(e){var n;n=5===t.length&&!t.includes(e),s.push(Object(E.jsx)(I,{disabled:n,children:e},e))})),Object(E.jsxs)(k.a,{children:[Object(E.jsx)(P.a,{span:6,children:Object(E.jsx)(S.a,{mode:"multiple",allowClear:!0,style:{width:"100%"},placeholder:"Please select",onChange:a,children:s})}),Object(E.jsx)(P.a,{span:2,children:Object(E.jsx)(B.a,{type:"primary",htmlType:"submit",className:"ml-2",children:"Search"})})]})}var X=n(152),F=n(158);function H(){var e=Object(h.c)((function(e){return e.dogs.page})),t=1===e?0:12*e,n=Object(h.c)((function(e){return e.dogs.dogs})).slice(t).slice(0,12),r=Object(h.c)((function(e){return e.breed.breedsTree})),c=n.map((function(e){var t=e.url,n=e.breed,c=r[n];return Object(E.jsxs)(P.a,{span:8,children:[Object(E.jsx)(X.a,{src:t,className:"p-10"}),Object(E.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(E.jsx)(F.a,{children:n}),c.length>0&&c.map((function(e){return Object(E.jsx)(F.a,{children:e},e)}))]})]},t)}));return Object(E.jsx)(k.a,{className:"mt-10",children:c})}function J(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.dogs.page})),n=Object(h.c)((function(e){return e.dogs.dogs})),r=12*(t+1),c=n.slice(r).length>0;return Object(E.jsxs)(k.a,{className:"mt-5 pagination--header",children:[c&&Object(E.jsx)(B.a,{type:"primary",onClick:function(){e({type:"UPDATE_PAGE",payload:t+1})},children:"Next"}),t>1&&Object(E.jsx)(B.a,{type:"dashed",onClick:function(){e({type:"UPDATE_PAGE",payload:t-1})},children:"Prev"}),c&&t>1&&Object(E.jsxs)("div",{className:"ml-2",children:["Current page: ",t]})]})}var V=v.a.Title;var W=function(){var e=Object(i.b)(f,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());return Object(E.jsx)(h.a,{store:e,children:Object(E.jsx)("div",{className:"app",children:Object(E.jsxs)(g.a,{children:[Object(E.jsx)(x,{}),Object(E.jsxs)(g.a,{children:[Object(E.jsx)(_,{}),Object(E.jsxs)(g.a,{style:{padding:"0 24px 24px"},children:[Object(E.jsx)(V,{level:3,className:"mt-10",children:"Search"}),Object(E.jsx)(M,{}),Object(E.jsx)(H,{}),Object(E.jsx)(J,{})]})]})]})})})};n(148);s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(W,{})}),document.getElementById("root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.822a7b46.chunk.js.map